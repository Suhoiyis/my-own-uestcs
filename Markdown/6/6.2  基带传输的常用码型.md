
# 6.2.1 传输码型的选择原则 (Selection Principles)

在设计一个好的数字信号波形时，我们主要看它是否满足以下 7 个条件 ：

1. **无直流分量**：方便在变压器或电容耦合的电路中传输。
    
2. **定时信息丰富**：波形跳变要多，方便接收端提取时钟。
    
3. **带宽小**：节省信道资源。
    
4. **不受信源统计特性影响**：不管发长串“0”还是长串“1”，都能正常工作（比如能提取时钟）。
    
5. **有检错能力**：波形要有规律，错了能看出来。
    
6. **差分编码**：不怕极性接反。
    
7. **设备简单**。

![[Pasted image 20260104155126.png]]


# 6.2.2 常用码型（一）：AMI 与 HDB3

这两种码型属于 **1B1T 码**（1个比特用1个三电平符号表示），它们用 $+1, 0, -1$ 三种电平来传输二进制信息。

## 1. 传号交替反转码 (AMI Code) —— 简单但有缺陷

**AMI (Alternate Mark Inversion)** 是北美电话系统的标准之一，规则非常简单

- **规则**：
    
    - 信息 **"0"** $\rightarrow$ 传输电平 **0**。
        
    - 信息 **"1"** $\rightarrow$ 传输电平 **+1** 或 **-1**，且 **交替出现**。
        
- **示例**：
    
    - 信息码：`1 0 1 1 0`
        
    - AMI码：`+1 0 -1 +1 0`

![[Pasted image 20260104155255.png]]

        
- **优点**：
    
    - **无直流**：+1 和 -1 交替，长期平均电压为 0。
        
    - **能检错**：如果你收到 `+1 0 +1`，说明出错了（因为违反了交替规则）。
        
- **致命缺点**：
    
    - **连 "0" 问题**：如果信源出现长串的 "0"（如 `10000001`），由于 0 电平无跳变，接收端会**丢失时钟信号**，导致系统瘫痪
        

---

## 2. 三阶高密度双极性码 (HDB3 Code) —— **本章大BOSS**

为了解决 AMI 码“长连 0 丢时钟”的问题，我们设计了 **HDB3 码**。它的核心思想是：**不允许出现 4 个以上的连 0**。一旦出现 4 个连 0，就故意违反 AMI 规则，插入一个“破坏脉冲”来制造跳变

### **编码规则（四步走口诀）：**

1. **先变 AMI**：先把信息码按 AMI 规则（1 交替翻转）写好，连 0 先留着。
    
2. **找四连零**：检查是否有连续的 4 个 "0"。
    
3. **加破坏位 (V)**：把第 4 个 "0" 变成 **V (Violation)** 脉冲。
    
    - **V 的极性**：必须与前一个**非 0 脉冲**的极性**相同**（这叫“破坏”了 AMI 的交替规则，所以接收端能认出它是假 0）。
        
4. **加调节位 (B)**：为了保证直流平衡（V 破坏了平衡），我们需要检查：
    
    - **原则**：相邻的 V 脉冲极性必须**交替**（+V, -V, +V...）。
        
    - **操作**：如果当前 V 的极性没法满足交替要求（比如前一个 V 是 +，前一个非 0 脉冲也是 +，导致当前 V 被迫是 +，这就没交替），那么就要把这 4 个连 0 的**第 1 个 "0"** 变成 **B (Balancing)** 脉冲。
        
    - **B 的极性**：遵循 AMI 规则（与前一非0脉冲反相），以此来翻转极性，让后面的 V 能顺利交替。
        
    - **波形形态**：变成了 `B 0 0 V`。B 和 V 的极性**一定相同**。

![[Pasted image 20260104155424.png]]

### **HDB3 译码（怎么变回去？）**

1. **找破坏点**：如果在波形中发现**两个相邻的非 0 脉冲极性相同**，或者**间隔两个 0 的非 0 脉冲极性相同**，说明后一个是 V。
    
2. **还原**：把 V 以及它前面的 3 个符号（无论是 `0 0 0` 还是 `B 0 0`）全部复原为 `0 0 0 0`。
    
3. **其他**：剩下的非 0 脉冲全部变成信息 "1"。

![[Pasted image 20260104155725.png]]


## 📝 第一部分总结笔记

|**码型**|**规则核心**|**优点**|**缺点**|
|---|---|---|---|
|**AMI**|1 交替，0 为 0|无直流，简单|**长连 0 丢同步**|
|**HDB3**|4 连 0 变 `000V` 或 `B00V`|无直流，**不丢同步**|编码规则复杂|

**HDB3 码的核心口诀：**

- **V 与前同**（为了破坏 AMI 规则被认出来）。
    
- **V 与 V 反**（为了保持整体无直流）。
    
- **B V 同极**（当需要 B 帮忙翻转时）。




# 6.2.2 常用码型（二）

这一部分的码型与之前的 AMI/HDB3 有一个本质的区别：AMI 试图用一个脉冲传一个比特（1B1T），而接下来要讲的这些码型，为了获得极其稳定的定时信息，不惜**牺牲带宽**，用两个脉冲时间来传输一个比特。

课件第 37 页把它们统称为 **1B2B 码**（1 Bit to 2 Binary symbols）


## 1. 双相码 / 曼彻斯特码 (Bi-phase / Manchester Code)

这是计算机网络中最著名的码型（**10Mbps 以太网**就用它）

**(1) 编码规则（必背）**

它利用每个码元**中间的电平跳变**来表示信息：

- **信息 "1"**：**下跳脉冲**（由高变低，`10`）。
    
- **信息 "0"**：**上跳脉冲**（由低变高，`01`）。
    

> **注意**：不同的教材对 1 和 0 的定义可能相反（比如 1 是上跳），但在本课件中，明确规定 **1 是下跳，0 是上跳**。考试时请以课件为准

![[Pasted image 20260104193026.png]]

**(2) 示例推导**

- **信息序列**：`1 0`
    
- **曼彻斯特**：`10 01`
    
    - 第一个 `1` $\rightarrow$ `10`（高 $\to$ 低）
        
    - 第二个 `0` $\rightarrow$ `01`（低 $\to$ 高）
        

**(3) 优缺点**

- **优点**：
    
    - **自带时钟**：无论发什么信号，每个码元中间**必定**有一次跳变。接收端只要锁住这个跳变，就能完美提取位同步信号。
        
    - **无直流**：`10` 和 `01` 内部都是一正一负，平均电压永远为 0。
        
- **缺点**：
    
    - **带宽翻倍**：传输 1 个比特需要 2 个脉冲宽度，所以频带宽度是原基带信号的 **2 倍**。
        

---

## 2. 差分双相码 (Differential Bi-phase Code)

为了解决曼彻斯特码“怕接反”的问题（如果两根线接反，1 会变成 0），引入了差分思想。

**(1) 编码规则**

它依然利用中间的跳变来同步，但利用**码元开始处是否有跳变**来表示信息：

- **信息 "1"**：码元开始处**有跳变**。
    
- **信息 "0"**：码元开始处**无跳变**。
    
![[Pasted image 20260104193138.png]]

**(2) 核心优势**

抗干扰强，且不怕线路极性反转。即使线接反了，"有跳变"依然是"有跳变"，信息不会读错。

---

## 3. 密勒码 (Miller Code / Delay Modulation)

这是对双相码的一种改进，目的是**压缩带宽**。

**(1) 编码规则**

- **信息 "1"**：码元**中间**出现跳变（10 或 01）。
    
- **信息 "0"**：码元中间**不跳变**。
    
    - **特殊情况（连 0）**：如果是连续的 "0"，在两个 "0" 的**边界处**发生跳变。
        
![[Pasted image 20260104193326.png]]

**(2) 优点**

它保留了双相码的部分优点，但因为减少了跳变频率，其带宽比曼彻斯特码窄，常用于低速数据传输。

---

## 4. 传号反转码 (CMI Code) —— **重点**

**CMI (Coded Mark Inversion)** 是 **ITU-T 推荐的接口标准**（PCM 四次群接口），考试出现频率仅次于 HDB3 和曼彻斯特码。

![[Pasted image 20260104193417.png]]

**(1) 编码规则（口诀：0固定，1交替）**

- **信息 "0"**：固定编码为 `01`（上跳脉冲）。
    
- **信息 "1"**：交替编码为 `11` 和 `00`。
    
    - 也就是：第一个 "1" 也就是 `11`，第二个 "1" 变成 `00`，第三个又变回 `11`……以此类推。
        

**(2) 实战推导**

**信息序列**：`1 0 1 1`

1. **`1`**：这是第一个 1，编码为 `11`（高电平）。
    
2. **`0`**：固定编码为 `01`（上跳）。
    
3. **`1`**：上一个 1 是 `11`，这个 1 必须交替，编码为 `00`（低电平）。
    
4. **`1`**：上一个 1 是 `00`，这个 1 必须交替，编码为 `11`（高电平）。
    

**结果**：`11 01 00 11`

**(3) 优缺点**

- **优点**：无直流，跳变丰富（容易定时的），**易于检错**（因为 "0" 肯定是 `01`，如果你收到了 `10`，那绝对是出错了）。
    
- **缺点**：带宽也是原信号的 2 倍。
    

---

## 📝 6.2 全章总结：四大码型速查表

|**码型**|**1 代表什么？**|**0 代表什么？**|**核心特点**|**应用场景**|
|---|---|---|---|---|
|**AMI**|+1 / -1 交替|0|简单，但连 0 丢时钟|北美电话系统|
|**HDB3**|同 AMI (+V破坏)|0 (4连0变 B00V)|**不丢时钟**，无直流|**欧洲/中国电话系统**|
|**曼彻斯特**|下跳 (10)|上跳 (01)|**自带时钟**，带宽翻倍|**以太网 (LAN)**|
|**CMI**|11 / 00 交替|固定 01|检错能力强，无直流|**PCM 接口标准**|


![[Pasted image 20260104193501.png]]

